<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>TODO • rcompass</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script>




<meta property="og:title" content="TODO" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-title-body">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">rcompass</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="articles/rcompass.html">Get started</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="articles/usecase01.html">Use Case 01</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/onertipaday/rcompass/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="contents col-md-9">
    <div class="page-header">
      <h1>TODO</h1>
    </div>


<div id="todo" class="section level1">

<div id="check-the-graphql-query-from-pycompass" class="section level2">
<h2 class="hasAnchor">
<a href="#check-the-graphql-query-from-pycompass" class="anchor"></a>check the graphql query from pycompass</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a><span class="op">!</span>pip install pycompass<span class="op">==</span><span class="fl">0.8.0</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true"></a><span class="im">from</span> pycompass <span class="im">import</span> Compendium, Connect, BiologicalFeature, Module, SampleSet, Plot, Annotation, Experiment, Sample, Platform, Ontology</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true"></a><span class="im">from</span> IPython.core.display <span class="im">import</span> HTML</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true"></a><span class="im">import</span> pycompass</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true"></a>pycompass.query.__SHOW_GRAPHQL_QUERY__<span class="op">=</span> <span class="va">True</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true"></a><span class="ex">connect</span> <span class="op">=</span> Connect(<span class="st">'http://compass.fmach.it/graphql'</span>)</span></code></pre></div>
</div>
<div id="refactoring" class="section level2">
<h2 class="hasAnchor">
<a href="#refactoring" class="anchor"></a>Refactoring</h2>
<p>Oggetto Modulo con funzioni che permettono la descrizione e l’enrichment</p>
</div>
<div id="notes" class="section level2">
<h2 class="hasAnchor">
<a href="#notes" class="anchor"></a>NOTES</h2>
<p>1) sparql query 2) ids dei samples 3) partendo dai samples ottengo i samplesets a seconda della normalizzazione 4) creo il modulo sulla base dei nuovi sampleSets</p>
<p>Query per ottenere i sampleset dai samples ottenuti dalla query sparql</p>
<p>{ sampleSets(compendium:“vespucci”, samples:[“U2FtcGxlVHlwZTox”]) { edges { node { id, name } } } }</p>
<p>crea modulo basato su samplesets ottenuti</p>
<p>crea un modulo in cui campioni sono presi cosi’ e poi trovo i sampleset</p>
<hr>
<ul>
<li>usare checkmate per controllare gli argomenti delle funzioni</li>
<li>aggiungere un parametro che permette di salvare gli oggetti prodotti da create_module() come semplice data.frame o come ExpressionSet.</li>
<li>replicare applicazione dash usando shiny dashbar o dash for r o golem, etc…</li>
<li>upload to CRAN/Bioconductor</li>
</ul>
<hr>
</div>
</div>
<div id="issues" class="section level1">
<h1 class="hasAnchor">
<a href="#issues" class="anchor"></a>ISSUES</h1>
<ul>
<li><p>il sampleset è sempre quello che ti da la misura per i geni</p></li>
<li><p>nel caso di legacy</p></li>
<li><p>sampleset come contrasto: quindi contrasti con particolare annotazione!</p></li>
<li><p>N.B. nella funzione get_sample_annotation e nella chiamata graphql corrispondente il numero di valori ritornati deve corrispondere al numero di campioni non di record</p></li>
<li><p>sparql queries andrebbero semplificate per il wrapper</p></li>
</ul>
<hr>
</div>
<div id="test-con-pacchetto-python" class="section level1">
<h1 class="hasAnchor">
<a href="#test-con-pacchetto-python" class="anchor"></a>test con pacchetto python</h1>
<div class="sourceCode" id="cb2"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a><span class="co">#vm-bact</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true"></a><span class="fu">ssh</span> sonego@vm-bact</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true"></a><span class="co">#ssh sonego@10.234.110.129</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true"></a><span class="ex">conda</span> activate py385</span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true"></a><span class="im">from</span> pycompass <span class="im">import</span> Compendium, Connect, BiologicalFeature, Module, SampleSet, Plot, Annotation, Experiment, Sample, Platform, Ontology</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true"></a><span class="im">from</span> IPython.core.display <span class="im">import</span> HTML</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true"></a><span class="ex">connect</span> <span class="op">=</span> Connect(<span class="st">'http://compass.fmach.it/graphql'</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true"></a><span class="ex">connect</span>.describe_compendia()</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true"></a>compendium <span class="op">=</span> <span class="ex">connect</span>.get_compendium(<span class="st">'vespucci'</span>, version<span class="op">=</span><span class="st">'latest'</span>)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true"></a>compendium_legacy <span class="op">=</span> <span class="ex">connect</span>.get_compendium(<span class="st">'vespucci'</span>, version<span class="op">=</span><span class="st">'legacy'</span>)</span></code></pre></div>
</div>
<div id="case-studies" class="section level1">
<h1 class="hasAnchor">
<a href="#case-studies" class="anchor"></a>Case Studies</h1>
<div id="use-case-stefania" class="section level2">
<h2 class="hasAnchor">
<a href="#use-case-stefania" class="anchor"></a>Use Case Stefania</h2>
<p>Ciao a tutti, ho guardato il lavoro di Marco e Paolo ed è davvero molto molto bello e interessante. La parte sull’arricchimento sui samples e dell’analisi di espressione nei vari tessuti usando il ranking è veramente super! Solo per darvi un feedback, non sono riuscita a fare questo: non ho capito se il file è già fatto, ma non so dove sia, o se va rifatto ogni volta… Since getting all TPM data for thousand of samples and genes might take a while, we prepared an HDF5 file with all the data we will need. In order to see how to create such file just execute the last cells of the notebook.</p>
<p>Def - Biotic stress is stress that occurs as a result of damage done to an organism by other living organisms</p>
<p>Alla luce dei nostri incontri e dei due caso studio di Laura e Giulia (sull’analisi di una famiglia genica, giusto?), propongo il mio caso studio in maniera più chiara, ditemi se può completare gli altri due mostrando qualcosa di nuovo, e se si può fare.</p>
<p>In silico expression analysis of a set of genes of interest during biotic stress: Aim is to identify in which conditions they are more modulated (which pathogen, which Vitis genotype, at which time-point after inoculation) and in which vitis genotypes these genes are more expressed at basal level (i.e. before the attack of the pathogen).</p>
<p>1) Create a module using the genes listed below and selecting all the experiments of biotic stress (search using inoculation and infection terms?), using limma normalization</p>
<p>gene_list = [“VIT_06s0004g01450”,“VIT_01s0010g02750”,“VIT_13s0064g01480”,“VIT_09s0002g01080”,“VIT_06s0004g01500”,“VIT_05s0020g03170”,“VIT_06s0004g01510”,“VIT_14s0128g00780”,“VIT_07s0141g00340”,“VIT_14s0128g00790”,“VIT_06s0004g01480”,“VIT_06s0004g01470”]</p>
<p>2) Plot the module</p>
<p>3) Identify in which contrasts (that is against which pathogen) each gene, or groups of genes, is mostly modulated and if these samples come from V. vinifera or other species.</p>
</div>
</div>
<div id="oltre-alla-heatmap-sarebbe-utile-poter-isolare-il-modulo-e-scaricarlo-come-tabella-in-cui-sia-indicato-il-patogeno-il-tessuto-il-genotipo-di-vite-il-tempo-post-inoculo" class="section level1">
<h1 class="hasAnchor">
<a href="#oltre-alla-heatmap-sarebbe-utile-poter-isolare-il-modulo-e-scaricarlo-come-tabella-in-cui-sia-indicato-il-patogeno-il-tessuto-il-genotipo-di-vite-il-tempo-post-inoculo" class="anchor"></a>oltre alla heatmap, sarebbe utile poter isolare il modulo e scaricarlo come tabella, in cui sia indicato il patogeno, il tessuto, il genotipo di vite, il tempo post inoculo</h1>
<p>4) Understand the basal level of expression of these genes: to do this, create a module of the control samples of the experiments identified above (using the tpm normalization) and normalize them using ranking.</p>
<p>5) identify in which genotype (species and cultivars) they are more expressed at basal level.</p>
<p>Senza farlo, ma solo come commento, si potrebbe dire che lo stesso si potrebbe fare selezionando campioni di stress abiotico (con quali parole chiave? water stress, heat/cold, UV-light) e diverse condizioni agronomiche (fertilizzazione, light deprivation, defoliation….). Sarebbe cioè comodo per l’utente sapere le principali categorie di esperimenti (quelle sui tessuti sono già nel caso di Laura). Forse si possono mettere nel testo o le avete già messe in quell’heatmap, non so, è solo un’idea.</p>
<p>Ditemi pure cosa ne pensate, non mi offendo!!!!</p>
<p>ciao!</p>
</div>


  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>

</div>



      <footer>
      <div class="copyright">
  <p>Developed by Paolo Sonego.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


